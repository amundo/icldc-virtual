<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>colors</title>
</head>
<body>
<link rel="stylesheet" href="colors.css">
<style>

body {
}

figure {
  border:1px solid black;
  display: block;
  margin:0;
}  

figcaption {
  margin-left: 50%;
  background:white;
  color:black;
  font-size:small;
  font-family: monospace;
  border-left: 1px solid;
}
</style>

<script type=module>

let response = await fetch('colors.css')
let css = await response.text()
let tokens = css.split(/[\p{White_Space}:]+/gu)
let colorTokens = tokens
  .filter(token => token.startsWith('--'))
  // .filter(token => token.includes('color'))

colorTokens.forEach(colorToken => {
  let figure = document.createElement('figure')
  figure.style.backgroundColor = `var(${colorToken})`
  let figcaption = document.createElement("figcaption")
  figcaption.textContent = colorToken
  figure.append(figcaption)
  document.body.append(figure)
})



</script>
</body>
</html>